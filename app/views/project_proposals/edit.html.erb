<% provide(:title, "Edit Project Proposal") %>

<section id="new-repo">
  <div class="title">Edit Project Proposal</div>
  <%= link_to fa_icon("search", text: 'View project proposal'), project_proposal_path(@project_proposal.id), class: 'edit-repo-link', id: 'view-repo-link' %>
  <%= form_for @project_proposal, url: {controller: "project_proposals", action: "update"}, html: {multipart: true, class: "needs-validation", novalidate: true} do |f| %>
    <br>
    <div class="form-group required">
      <%= f.label :username, "Name/Nom", class: "control-label" %>
      <div>What is your name? <br> Quel est votre nom?</div>
      <%= f.text_field :username, class: 'form-control', autofocus: true, required: true %>
      <div class="invalid-feedback">
        Veuillez entrer votre nom / Please enter your name.
      </div>
    </div>
    <br>
    <div class="form-group required">
      <%= f.label :email, "Email/Adresse Courriel", class: "control-label" %>
      <div>What is your email? <br> Quel est votre adresse courriel?</div>
      <%= f.text_field :email, class: 'form-control', autofocus: true, required: true %>
      <div class="invalid-feedback">
        Veuillez entrer votre addresse couriel / Please enter your email address
      </div>
    </div>
    <br>
    <div class="form-group required">
      <%= f.label :client_type, "Client Type/Type de Client", class: "control-label" %>
      <div>Who are you answering on behalf of? <br> Vous répondez de la part de qui?</div>
      <div class='checkbox-list'>
        <%= f.radio_button :client_type, 'Organization', :class => 'show_extra', :style => 'display:inline' %>
        <%= f.label :client_type, 'Organization', :id => 'type', :style => 'display:inline' %>
        <br>
        <%= f.radio_button :client_type, 'Individual', :class => 'show_extra', :style => 'display:inline' %>
        <%= f.label :client_type, 'Individual', :id => 'type', :style => 'display:inline' %>
      </div>
    </div>
    <br>
    <div class="form-group required">
      <%= f.label :client, "Client/Client", class: "control-label" %>
      <div>Who is the client? <br> Qui est le client?</div>
      <%= f.text_field :client, class: 'form-control', required: true %>
      <div class="invalid-feedback">
        Veuillez entrer le nom du client / Please enter the client's name
      </div>
    </div>
    <br>
    <div class="form-group required">
      <%= f.label :title, "Title", class: "control-label" %>
      <div>Great project titles are short and memorable.</div>
      <%= f.text_field :title, class: 'form-control', required: true %>
      <div class="invalid-feedback">
        Veuillez entrer le titre du projet / Please enter the project's title
      </div>
    </div>
    <br>
    <div class="form-group required">
      <%= f.label :client_interest, "Client Level of Interest/Niveau d'intérêt du Client", class: "control-label" %>
      <div>How interested is the client? <br> Comment êtes-vous intéressé client?</div>
      <div class='checkbox-list'>
        <%= f.radio_button :client_interest, 'Low', :checked => true, :class => 'show_extra', :style => 'display:inline' %>
        <%= f.label :client_type, 'Low', :id => 'type', :style => 'display:inline', class: "control-label" %>
        <br>
        <%= f.radio_button :client_interest, 'Medium', :class => 'show_extra', :style => 'display:inline' %>
        <%= f.label :client_type, 'Medium', :id => 'type', :style => 'display:inline', class: "control-label" %>
        <br>
        <%= f.radio_button :client_interest, 'High', :class => 'show_extra', :style => 'display:inline' %>
        <%= f.label :client_type, 'High', :id => 'type', :style => 'display:inline', class: "control-label" %>
      </div>
    </div>
    <br/>
    <div class="form-group required">
      <%= f.label :client_background, "Client Background/Contexte du client", class: "control-label" %>
      <div>What is the client background?<br>Quel est le contexte du client?</div>
      <%= f.trix_editor :client_background, class: 'form-control', id: "trix_editor", required: true %>
      <div class="invalid-feedback">
        Veuillez entrer le contexte du client / Please enter client's background
      </div>
    </div>
    <br/>
    <div class="form-group required">
      <%= f.label :supervisor_background, "Supervisor Background/Contexte du Superviseur", class: "control-label" %>
      <div>What is the supervisor background?<br>Quel est le contexte du Superviseur?</div>
      <%= f.trix_editor :supervisor_background, class: 'form-control', id: "trix_editor", required: true %>
      <div class="invalid-feedback">
        Veuillez entrer le contexte du superviseur / Please enter supervisor's background
      </div>
    </div>
    <br>
    <div class="form-group required">
      <%= f.label :description, class: "control-label" %>
      <div>Give a description to the project<br>Donnez une description au projet</div>
      <div style="width: 420px;">
        <%= f.trix_editor :description, class: 'repo', id: "trix_editor" %>
        <div class="invalid-feedback">
          Veuillez entrer la description du projet / Please enter project's description
        </div>
      </div>
    </div>
    <br>
    <div class="form-group">
      <%= f.label :equipments, "Possible technologies involved", class: "control-label" %>
      <%= f.text_area :equipments, class: 'form-control' %>
    </div>
    <br>
    <%= f.label :youtube_link, "Youtube Link", class: "control-label" %>
    <div>Project similar in Youtube<br>Projet similaire sur Youtube</div>
    <%= f.text_field :youtube_link, class: 'repo' %>
    <br>
    <div class="form-group required">
      <%= f.label :project_cost, "Coût attendu du projet / Expected cost of the project", class: "control-label" %>
      <div>Coût attendu du projet / Expected cost of the project</div>
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">$</span>
        </div>
        <%= f.number_field :project_cost, class: 'form-control', required: true, value: f.object.project_cost.present? ? f.object.project_cost : 0 %>
        <div class="invalid-feedback">
          Veuillez entrer le coût attendu du projet / Please enter the expected project cost
        </div>
      </div>
    </div>
    <br>
    <div class="form-group required">
      <%= f.label :project_type, "Type de projet / Project Type", class: "control-label" %>
      <div></div>
      <div class='checkbox-list'>
        <%= f.radio_button :project_type, 'General', :checked => true, :class => 'show_extra', :style => 'display:inline' %>
        <%= f.label :project_type, 'General', :id => 'type', :style => 'display:inline' %>
        <br>
        <%= f.radio_button :project_type, 'Client Specific', :class => 'show_extra', :style => 'display:inline' %>
        <%= f.label :project_type, 'Spécifique au client / Client Specific', :id => 'type', :style => 'display:inline' %>
        <br>
        <%= f.radio_button :project_type, 'S/O | N/A', :class => 'show_extra', :style => 'display:inline' %>
        <%= f.label :project_type, 'S/O | N/A', :id => 'type', :style => 'display:inline' %>
      </div>
    </div>
    <br/>
    <%= f.label :categories %>
    <div>Choose at most 5 categories that fit your project.</div>
    <%= f.select :categories, options_from_collection_for_select(@category_options, :id, :name), class: "profile-text", include_blank: "Select a category..." %>
    <div id="category-container">
      <% @categories.each do |category| %>
        <span class="category"><%= category.name %></span>
      <% end %>
    </div>
    <br>
    <br>
    <br>
    <%= f.submit "Update Project Proposal/Modifier la proposition de projet", class: "btn btn-primary", id: "waiting-save-button", data: {disable_with: false} %>
    <span id="status-save"></span>
    <% if flash[:alert] %>
      <div id="alert"><%= flash[:alert] %></div>
    <% end %>
  <% end %>
</section>
