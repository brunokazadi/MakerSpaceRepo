<section class="container">
    <h1 class="text-center mt-3">Makerstore Links on show</h1>
    <%= link_to 'Create new link', new_staff_makerstore_link_path, class: 'btn btn-primary mb-3' %>
    <div class="table-responsive">
        <table class="table table-striped-primary table-hover">
            <thead class="table-primary text-center">
                <tr>
                    <th></th>
                    <th>Order</th>
                    <th>Title</th>
                    <th>Links to</th>
                    <th>Shown?</th>
                    <th>Image</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="linkList">
                <% @makerstore_links.each do |link| %>
                    <tr data-link-id="<%= link.id %>">
                        <td class="handle"><i class="fa fa-arrows"></i></td>
                        <td><%= link.order + 1 %></td>
                        <td><%= link.title %></td>
                        <td><%= link_to link.url, link.url, loading: 'lazy' %></td>
                        <td>
                            <div class="form-check d-inline-block">
                                <%= check_box_tag "shown_#{link.id}", '', link.shown, class: 'form-check-input', data: { link_id: link.id }, disabled: true %>
                                <%= label_tag "shown_#{link.id}", '', class: 'form-check-label' %>
                            </div>
                        </td>
                        <td><details>
                            <summary>Display image
                            </summary>
                            <%= image_tag link.image %>
                        </details>
                        </td>
                        <td>
                            <%= link_to 'Edit', edit_staff_makerstore_link_path(link), class: 'btn btn-secondary mb-1' %>
                            <br />
                            <%= button_to 'Delete', staff_makerstore_link_path(link), method: :delete, class: 'btn btn-danger', data: { confirm: 'Are you sure you want to delete this link?' } %>
                        </td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    </div>
</section>
